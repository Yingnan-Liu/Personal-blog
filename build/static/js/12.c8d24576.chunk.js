(this["webpackJsonppersonal-app"]=this["webpackJsonppersonal-app"]||[]).push([[12],{125:function(e,t,a){"use strict";a(90);var s=a(92),r=(a(86),a(89)),c=(a(97),a(99)),n=(a(94),a(96)),l=a(140),i=(a(124),a(134)),o=a(93),u=a(187),j=a(0),d=a(126),p=a.n(d),b=a(3);t.a=function(e){var t=e.name,a=e.rules,d=e.label,h=e.onClick,g=Object(u.a)(e,["name","rules","label","onClick"]),m=Object(j.useState)(!1),O=Object(o.a)(m,2),f=O[0],x=O[1],v=Object(j.useState)(30),w=Object(o.a)(v,2),C=w[0],y=w[1];return Object(j.useEffect)((function(){var e=0;return f&&(e=setInterval((function(){y((function(t){return t<=1?(x(!1),clearInterval(e),30):t-1}))}),1e3)),function(){clearInterval(e)}}),[f]),"captcha"===t?Object(b.jsx)(s.a.Item,{name:t,rules:a,label:d,children:Object(b.jsxs)(r.a,{gutter:"8",children:[Object(b.jsx)(n.a,{span:16,children:Object(b.jsx)(i.a,Object(l.a)({},g))}),Object(b.jsx)(n.a,{span:"8",children:Object(b.jsx)(c.a,{className:p.a.getCaptcha,size:"large",disabled:f,onClick:h,children:Object(b.jsx)("span",{style:{fontSize:"15px",color:"grey"},children:f?"".concat(C,"\u79d2"):"\u83b7\u53d6\u9a8c\u8bc1\u7801"})})})]})}):Object(b.jsx)(s.a.Item,{name:t,rules:a,label:d,children:Object(b.jsx)(i.a,Object(l.a)(Object(l.a)({},g),{},{autoComplete:"off"}))})}},126:function(e,t,a){e.exports={getCaptcha:"getCaptcha--3fxS6"}},129:function(e,t,a){"use strict";a(90);var s=a(92),r=(a(97),a(99)),c=(a(0),a(130)),n=a.n(c),l=a(3);t.a=function(e){var t=e.children;return console.log(e),Object(l.jsx)(s.a.Item,{children:Object(l.jsx)(r.a,{className:n.a.submit,type:"primary",size:"large",htmlType:"submit",children:t})})}},130:function(e,t,a){e.exports={submit:"submit--322DD"}},289:function(e,t,a){e.exports={registerContainer:"registerContainer--SCqFQ",register:"register--1Jc2V",success:"success--3HBpd",warning:"warning--J0TE0",error:"error--15uNq","progress-pass":"progress-pass--3DS9f",progress:"progress--1fQ1L"}},320:function(e,t,a){"use strict";a.r(t);a(86);var s=a(89),r=(a(94),a(96)),c=(a(143),a(185)),n=(a(287),a(312)),l=(a(90),a(92)),i=a(93),o=(a(147),a(132)),u=a(0),j=a(20),d=a(289),p=a.n(d),b=a(290),h=a.n(b),g=(a(291),a(184)),m=a(293),O=a(140),f=a(294),x=a.n(f);function v(){return x.a.create()}var w={get:function(e,t){return v()(Object(O.a)({url:e,method:"get"},t))},post:function(e,t){return v()(Object(O.a)({url:e,method:"post"},t))}},C="http://123.57.164.143:8099/jzsf";function y(e){return w.post("".concat(C,"/user/getCaptcha"),{data:e,headers:{"content-type":"application/x-www-form-urlencoded"}})}var k=a(37),z=a(125),F=a(129),N=a(3),S=o.a.Option,q={ok:Object(N.jsx)("div",{className:p.a.success,children:"\u5f3a\u5ea6\uff1a\u5f3a"}),pass:Object(N.jsx)("div",{className:p.a.warning,children:"\u5f3a\u5ea6\uff1a\u4e2d"}),poor:Object(N.jsx)("div",{className:p.a.error,children:"\u5f3a\u5ea6\uff1a\u5f31"})},I={ok:"success",pass:"normal",poor:"exception"};t.default=function(){var e=Object(k.b)(),t=Object(u.useState)(!1),a=Object(i.a)(t,2),d=a[0],b=a[1],O=Object(u.useState)(!1),f=Object(i.a)(O,2),x=f[0],v=f[1],w=l.a.useForm(),C=Object(i.a)(w,1)[0];return Object(N.jsx)("div",{className:p.a.registerContainer,children:Object(N.jsx)("div",{className:p.a.register,children:Object(N.jsxs)(l.a,{form:C,onFinish:function(e){console.log(e)},children:[Object(N.jsx)(z.a,{name:"username",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",size:"large",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]}),Object(N.jsx)(z.a,{name:"email",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",size:"large",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},{type:"email",message:"\u8bf7\u586b\u5199\u6b63\u786e\u90ae\u683c\u5f0f"}]}),Object(N.jsx)(c.a,{content:d&&Object(N.jsxs)("div",{children:[function(){var e=C.getFieldValue("password"),t=function(e){return e&&e.length>9?"ok":e&&e.length>5?"pass":"poor"}(e);return e&&e.length&&Object(N.jsxs)("div",{className:p.a["progress-".concat(t)],children:[q[t],Object(N.jsx)(n.a,{className:p.a.progress,status:I[t],strokeWidth:6,percent:10*e.length>100?100:10*e.length,showInfo:!1,format:function(){return t}})]})}(),Object(N.jsx)("div",{children:"\u8bf7\u81f3\u5c11\u8f93\u51656\u4e2a\u5b57\u7b26\u3002\u8bf7\u4e0d\u8981\u4f7f\u7528\u5bb9\u6613\u88ab\u731c\u5230\u7684\u5bc6\u7801\u3002"})]}),overlayStyle:{width:240},placement:"right",visible:d,children:Object(N.jsx)(z.a,{name:"password",placeholder:"\u81f3\u5c116\u4f4d\u5bc6\u7801\uff0c\u533a\u5206\u5927\u5c0f\u5199",type:"password",size:"large",rules:[{validator:function(e,t){var a=Promise;return t?(d?t&&C.getFieldValue("confirm")&&C.validateFields(["confirm"]):b(!!t),v(!x),a.resolve()):(b(!!t),a.reject("\u8bf7\u8f93\u5165\u5bc6\u7801"))}}]})}),Object(N.jsx)(z.a,{name:"confirm",placeholder:"\u786e\u8ba4\u5bc6\u7801",type:"password",size:"large",rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u786e\u8ba4\u5bc6\u7801"},{validator:function(e,t){var a=Promise;return t&&t!==C.getFieldValue("password")?a.reject("\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u5339\u914d"):a.resolve()}}]}),Object(N.jsxs)(s.a,{gutter:2,children:[Object(N.jsx)(r.a,{span:6,children:Object(N.jsxs)(o.a,{defaultValue:"+86",onChange:function(e){console.log(e)},size:"large",style:{width:"100%"},children:[Object(N.jsx)(S,{value:"86",children:"+86"}),Object(N.jsx)(S,{value:"87",children:"+87"})]})}),Object(N.jsx)(r.a,{span:18,children:Object(N.jsx)(z.a,{name:"mobile",placeholder:"\u624b\u673a\u53f7",type:"password",size:"large",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{pattern:/^\d{11}$/,message:"\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef"}]})})]}),Object(N.jsx)(z.a,{name:"captcha",placeholder:"\u9a8c\u8bc1\u7801",size:"large",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}],onClick:function(){C.validateFields(["username","email","password"]).then((function(){console.log(C.getFieldsValue(["username","email","password"])),e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(m.a)(h.a.mark((function t(){var a,s,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("getCaptcha test"),t.next=3,y(e);case 3:return t.sent,t.next=6,y(e);case 6:a=t.sent,s=a.code,r=a.message,c=a.data.captcha,20020===s?g.b.success("".concat(r,"\uff0c\u9a8c\u8bc1\u7801\u4e3a").concat(c)):g.b.error(r),20020===s?g.b.success("".concat(r,"\uff0c\u9a8c\u8bc1\u7801\u4e3a").concat(c)):g.b.error(r);case 12:case"end":return t.stop()}}),t)})))}(C.getFieldsValue(["username","email","password"])))}))}}),Object(N.jsxs)(s.a,{justify:"space-between",align:"middle",children:[Object(N.jsx)(r.a,{span:8,children:Object(N.jsx)(F.a,{children:"\u6ce8\u518c"})}),Object(N.jsx)(r.a,{children:Object(N.jsx)(j.b,{to:"/login",children:"\u4f7f\u7528\u5df2\u6709\u8d26\u6237\u767b\u5f55"})})]})]})})})}}}]);
//# sourceMappingURL=12.c8d24576.chunk.js.map